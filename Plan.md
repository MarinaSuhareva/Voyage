# План автоматизации
Цель: Автоматизировать сценарии (как позитивные, так и негативные) покупки тура через Приложение.


## Тестовые данные

Корректными данными при заполнении полей ввода формы считаются:

Номер карты: цифры, в формате **** **** **** ****

Месяц: 01-12, но не ранее текущего месяца в случае, если указан текущий год

Год: последние две цифры порядкового номера года, не ранее текущего года 

Владелец: латиница, спецсимволы (пробел, дефис)

CVC: диапазон значений от 001 до 999.

Набор карт, представленный для тестирования (файл data.json):

4444 4444 4444 4441, status APPROVED

4444 4444 4444 4442, status DECLINED

Несуществующая карта

4444 4444 4444 4444
Проверка поддержки заявленных СУБД:

MySql

PostgreSQL

# Тестовые сценарии

## **Позитивные сценарии**
### 1. Оплата по карте со статусом APPROVED

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными данными.
   Ожидаемый результат: появилось всплывающее окно "Успешно! Операция одобрена Банком" В БД есть запись APPROVED
 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, остальные поля заполнены корректными данными
   Ожидаемый результат: появилось всплывающее окно "Успешно! Операция одобрена Банком" В БД есть запись APPROVED

### 2. Оплата по карте со статусом DECLINED

 * оплата по заблокированной дебетовой карте Номер карты 4444 4444 4444 4442, остальные поля 
заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции." В БД есть запись DECLINED

 * оплата по заблокированной кредитной карте Номер карты 4444 4444 4444 4442, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции." В БД есть запись DECLINED

# **Негативные сценарии**

### 3. Несуществующая карта

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4444, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции." В БД нет новой записи
 * оплата по кредитной карте Номер карты 4444 4444 4444 4444, остальные поля заполнены корректными данными
Ожидаемый результат: появилось всплывающее окно "Ошибка! Банк отказал в проведении операции." В БД нет новой записи

### 4. Неполный номер карты

 * оплата по дебетовой карте Номер карты 4444 4444 4444 444, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Номер карты появилось сообщение "Неверно указан формат карты", В БД нет новой записи

 * оплата по кредитной карте Номер карты 4444 4444 4444 444, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Номер карты появилось сообщение "Неверно указан формат карты", В БД нет новой записи

### 5. Карта с истекшим сроком действия (месяц)

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи 

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, указать предыдущий месяц, текущий год, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи

### 6. Некорректный месяц

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле Месяц указать 13, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи 

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле Месяц указать 13, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи

### 7. Некорректный формат в поле (месяц)
 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле Месяц указать 3 (вместо 03), остальные поля заполнены корректными данными
Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверный формат", в БД нет новой записи

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле Месяц указать 3 (вместо 03), остальные поля заполнены корректными данными
 Ожидаемый результат: под полем Месяц появилось сообщение об ошибке "Неверный формат", в БД нет новой записи

### 8. Карта с истекшим сроком действия (год)

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД нет новой записи

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, указать предыдущий год, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Истёк срок действия карты", в БД нет новой записи 

### 9. Некорректный год
 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле Год указать 00, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи 

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле Год указать 00, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Год появилось сообщение об ошибке "Неверно указан срок действия карты", в БД нет новой записи 

### 10. Некорректное значение в поле Владелец

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать одно значение, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать одно значение, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи 

### 11. Кириллица в поле Владелец
 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать данные на кириллице, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи

* оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать данные на кириллице, остальные поля заполнены корректными данными
Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи

### 12. Спецсимволы в поле Владелец
* оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать данные на кириллице, остальные поля заполнены корректными данными
  Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи

* оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле "Владелец" указать данные на кириллице, остальные поля заполнены корректными данными
  Ожидаемый результат: под полем Владелец появилось сообщение об ошибке, в БД нет новой записи

### 13. Некорректное значение в поле CVC/CVV

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 000, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверно указан CVC/CVV", в БД нет новой записи 

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, в поле CVC/CVV указать 000, остальные поля заполнены корректными данными 
Ожидаемый результат: под полем CVC/CVV появилось сообщение об ошибке "Неверно указан CVC/CVV", в БД нет новой записи

### 14. Отправка с незаполненным полем "CVC/CVV"

 * оплата по дебетовой карте Номер карты 4444 4444 4444 4441, поле "CVC/CVV" оставить пустым, остальные поля заполнены корректными данными 
Ожидаемый результат появляются сообщения об ошибке "Неверный формат". Заявка не отправляется.в БД нет новой записи 

 * оплата по кредитной карте Номер карты 4444 4444 4444 4441, поле "CVC/CVV" оставить пустым, остальные поля заполнены корректными данными 
Ожидаемый результат появляются сообщения об ошибке "Неверный формат". Заявка не отправляется. в БД нет новой записи

### 15. Отправка с незаполненными полями

* оплата по дебетовой карте Номер карты 4444 4444 4444 4441, все поля оставить пустыми, остальные поля заполнены корректными данными
Ожидаемый результат у полей ввода "Номер карты", "Месяц", "Год", "CVC/CVV" появляются сообщения об ошибке "Неверный формат",
у поля "Владелец" сообщение об ошибке "Поле обязательно для заполнения".в БД нет новой записи

* оплата по кредитной карте Номер карты 4444 4444 4444 4441, все поля оставить пустыми, остальные поля заполнены корректными данными
Ожидаемый результат у полей ввода "Номер карты", "Месяц", "Год", "CVC/CVV" появляются сообщения об ошибке "Неверный формат",
у поля "Владелец" сообщение об ошибке "Поле обязательно для заполнения".в БД нет новой записи



# Перечень используемых инструментов с обоснованием выбора

1. IntelliJ IDEA - Многофункциональная среда разработки;
2. Java 11- Универсальный язык, позволяющий работать на большинстве ОС и различном оборудовании;
3. Gradle - Система сборки проекта. Проще подключать внешние зависимости;
4. JUnit5 - инструмент тестирования;
5. Selenide - Фреймворк для автоматизированного тестирования веб-приложений на основе Selenium WebDriver.
6. Lombok - Плагин для создания аннотаций, заменяющих значительное количество однообразных конструкторов JAVA ;
7. Faker - для генерации тестовых данных.
8. Docker - это платформа для разработки и запуска контейнеров. Докер позволяет создавать контейнеры, автоматизирует их запуск и управляет жизненным циклом.
9. Appveyor - Система CI. Непрерывный контроль интеграции кода.
10. Allure - Система подготовки отчётов.
11. Git и GitHub-для полноценной работы с фейморками и хранения автотестов;


# Перечень и описание возможных рисков при автоматизации

* Возможны сложности при настройке двух СУБД ("MySQL" и "PostgreSQL"), и корректном подключении к каждой из них.
* Из-за отсутствия ТЗ и какой-либо документации по работе сервиса трудно понять, как он должен работать 
и какое поведение сервиса можно считать ошибкой.
* Трудности с нахождением необходимых для тестирования CSS - селекторов.
* Изменение на странице может привести к падению тестов и необходимости их дальнейшего исправления.

# Интервальная оценка с учетом рисков (в часах)

Настройка ПО - 12

Написание и отладка автотестов -48

Заведение issue по итогам прогонов автотестов - 8

Подготовка отчетных документов по итогам автоматизированного тестирования - 8

Подготовка отчетных документов по итогам автоматизации -8


# План сдачи работ

Ожидаемая дата завершения проекта 13 октября 2022г.